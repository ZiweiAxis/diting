# Diting 配置模板（复制为 config.yaml 并配合 .env 使用）
# 敏感项与飞书等由 .env 的 DITING_* 覆盖，不要写入本文件

proxy:
  listen_addr: ":8080"
  upstream: "http://localhost:8081"

policy:
  rules_path: "policy_rules.example.yaml"

cheq:
  timeout_seconds: 120
  persistence_path: "./data/cheq"

delivery:
  feishu:
    app_id: ""
    enabled: true
    approval_user_id: ""
    receive_id_type: ""
    approval_timeout_minutes: 5
    use_message_reply: true
    poll_interval_seconds: 2
    chat_id: ""
    gateway_base_url: "http://localhost:8080"
    use_card_delivery: true
    use_long_connection: true

audit:
  path: "./data/audit.jsonl"
  redact: []

ownership:
  static_map: {}

# 以下供 main_feishu / main 等入口使用（All-in-One 可忽略）；敏感项由 .env 覆盖
llm:
  provider: anthropic
  base_url: ""
  api_key: ""
  model: ""
  max_tokens: 1024
  temperature: 0.7
risk:
  dangerous_methods: ["DELETE", "PUT", "PATCH", "POST"]
  dangerous_paths: ["/delete", "/remove", "/drop", "/destroy", "/clear", "/admin", "/production"]
  auto_approve_methods: ["GET", "HEAD", "OPTIONS"]
  safe_domains: ["api.github.com", "httpbin.org"]
