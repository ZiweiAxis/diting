# Sentinel-AI 演示脚本

## 演示目标
向投资人/客户展示 Sentinel-AI 如何在 30 秒内拦截并审批一个危险的 AI Agent 操作。

---

## 演示准备 (5分钟)

### 1. 启动系统
```bash
cd sentinel-ai
./start.bat  # Windows
# 或
./start.sh   # Linux/Mac
```

### 2. 准备演示终端
- 终端 1: 运行 Sentinel-AI 代理
- 终端 2: 模拟 Agent 发送请求
- 浏览器: 打开 http://httpbin.org (展示真实后端)

---

## 演示脚本 (3分钟)

### 第一幕: 安全操作 - 自动放行 (30秒)

**旁白:**
> "首先，我们看一个正常的查询操作。Agent 想要获取用户列表。"

**操作:**
```bash
curl -X GET http://localhost:8080/get
```

**展示点:**
- ✅ 风险等级: 低 🟢
- ✅ 决策: 自动放行
- ✅ 耗时: < 10ms
- ✅ 无需人工介入

**旁白:**
> "系统识别这是一个只读操作，风险低，自动放行。整个过程不到 10 毫秒。"

---

### 第二幕: 危险操作 - 智能拦截 (90秒)

**旁白:**
> "现在，Agent 想要删除生产环境的数据。这是一个高风险操作。"

**操作:**
```bash
curl -X DELETE http://localhost:8080/delete
```

**展示点:**
1. **风险识别** (立即)
   - 🔴 风险等级: 高
   - 方法: DELETE
   - 路径: /delete

2. **AI 意图分析** (2秒内)
   ```
   🤖 LLM 意图分析:
   意图: 删除数据
   影响: 数据不可恢复
   建议: 需要人工审批
   ```

3. **人工审批界面** (弹出)
   ```
   ╔════════════════════════════════════════╗
   ║          🚨 需要人工审批               ║
   ╚════════════════════════════════════════╝
   
   请求: DELETE /delete
   分析: 意图: 删除数据。影响: 数据不可恢复。
   
   是否批准此操作? (y/n):
   ```

**互动环节:**
- 暂停 5 秒，让观众看清信息
- 询问观众: "你们觉得应该批准吗？"
- 输入 `n` 拒绝

**展示点:**
- ❌ 请求已拒绝
- 返回 403 Forbidden
- 包含详细的拒绝原因

**旁白:**
> "系统不仅拦截了危险操作，还通过 AI 分析了意图，并给出了明确的建议。管理员可以基于业务上下文做出决策。"

---

### 第三幕: 审计溯源 - 全链路可追溯 (60秒)

**旁白:**
> "所有操作都被完整记录，形成不可篡改的审计链。"

**操作:**
```bash
# 查看审计日志
cat logs/audit.jsonl | tail -n 2
```

**展示点:**
```json
{
  "timestamp": "2026-02-04T23:15:30Z",
  "method": "DELETE",
  "path": "/delete",
  "risk_level": "高",
  "intent_analysis": "意图: 删除数据。影响: 数据不可恢复。",
  "decision": "DENY",
  "approver": "DENIED",
  "response_code": 403,
  "duration_ms": 1850
}
```

**旁白:**
> "每一条记录都包含：谁、什么时间、做了什么、为什么被拒绝、谁做的决策。完全满足等保 2.0 和 ISO 27001 的审计要求。"

---

## 演示亮点总结 (30秒)

### 技术亮点
1. **零侵入部署** - 无需修改 Agent 代码，透明代理
2. **AI 驱动决策** - 本地 LLM 实时分析意图
3. **人机协同** - 高风险操作人工兜底
4. **全链路审计** - 每个决策都可追溯

### 业务价值
1. **降低风险** - 防止 Agent 误操作导致生产事故
2. **满足合规** - 符合等保、ISO、SOC2 要求
3. **提升信任** - 让业务部门敢用 AI Agent
4. **快速落地** - 1 小时内完成部署

---

## 常见问题 Q&A

### Q1: 如果 Agent 绕过代理怎么办？
**A:** 下一版本会集成 eBPF 内核监控，即使 Agent 直接调用系统 API，也会被拦截。

### Q2: LLM 分析会不会太慢？
**A:** 本地小模型 (7B) 响应时间 < 2 秒。对于超低延迟场景，可以纯规则引擎模式。

### Q3: 支持哪些 Agent 框架？
**A:** 与框架无关。只要 Agent 通过 HTTP/gRPC 通信，都可以接入。已测试 LangChain、AutoGPT、OpenClaw。

### Q4: 如何集成企业微信/钉钉审批？
**A:** 已在路线图中。下一版本支持 Webhook 推送审批卡片。

### Q5: 性能如何？
**A:** 
- 低风险请求: < 10ms 延迟
- 高风险请求: < 2s (含 LLM 分析)
- 吞吐量: > 1000 req/s

---

## 演示后的行动号召

**对投资人:**
> "我们正在构建 AI 时代的'安全生产责任制'。这是一个千亿级的市场，我们是第一个把 eBPF + LLM + 零信任结合起来的团队。"

**对客户:**
> "30 天免费试用，1 小时完成部署。我们帮你把 Agent 从实验室带到生产环境。"

**对开发者:**
> "开源核心引擎，欢迎贡献。我们正在建立 Agent 治理的行业标准。"

---

## 演示技巧

1. **节奏控制**: 每个场景不超过 90 秒
2. **视觉冲击**: 用彩色终端输出，突出 🔴🟢 等符号
3. **互动参与**: 在审批环节让观众投票
4. **故事化**: 用"生产事故"作为引入场景
5. **数据说话**: 准备真实的 Agent 误操作案例

---

## 备用演示场景

### 场景 A: SQL 注入防护
```bash
curl -X POST http://localhost:8080/api/query \
  -d '{"sql": "SELECT * FROM users WHERE id=1 OR 1=1"}'
```

### 场景 B: 文件系统保护
```bash
curl -X POST http://localhost:8080/api/exec \
  -d '{"command": "rm -rf /var/log/*"}'
```

### 场景 C: 敏感数据访问
```bash
curl -X GET http://localhost:8080/api/salary/all
```

每个场景都应该被拦截并分析。
